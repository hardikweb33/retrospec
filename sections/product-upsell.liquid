{% if product.metafields.upsell.product != blank %}
{% assign handle = product.metafields.upsell.product %}
{% assign product1 =  all_products[handle] %}
{% if product1.available and product1.published_at != blank %}
<div class="upsell-product-wrapper">
  <div class="page-width">
    <header class="section-header">
      <h3 class="section-header__title">
        {{ product.metafields.upsell.header }}
      </h3>
    </header>
  </div>
  <div class="page-width">
    <div class="grid upsell-inner">

      {% assign grid_item_width = 'medium-up--one-half' %}
      {%-render 'standard-product-card', product: product1, grid_item_width: grid_item_width -%}
      <div class="grid__item one-half small--one-whole">
        {% if product.metafields.upsell.benefits_list != blank %}
        <div class="bg-sand upsell-benefit-content">
          <div class="right-benefits-wrapper">
            <span class="benefits-header eyebrow-font">{{product.metafields.upsell.benefits_header}}</span>
            {% assign lists = product.metafields.upsell.benefits_list | split:'|' %}
            <ul class="benefits-ul">
              {% for list in lists %}
              <li><span class="checkmark-icon">{% include 'icon-handwritten-check' %}</span>{{list}}</li>
              {% endfor %}
            </ul>
            <div class="benefits-link">
              <a href="{{product1.url}}" class="btn btn--secondary btn--custom">
                {% if product.metafields.upsell.button_text %}
                {{product.metafields.upsell.button_text}}
                <span class="right-arrow"><svg width="15px" height="12px" viewBox="0 0 15 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square">
                    <g id="icon/arrow" transform="translate(1.000000, 1.000000)" stroke="#000000" stroke-width="1.2">
                      <g id="Right-Arrow">
                        <polyline id="Path-Copy" transform="translate(7.560660, 5.000000) rotate(-45.000000) translate(-7.560660, -5.000000) " points="11.0606602 1.5 11.0606602 8.5 4.06066017 8.5"></polyline>
                        <line x1="1.5959456e-16" y1="5.10355339" x2="12" y2="5.10355339" id="Line-2-Copy"></line>
                      </g>
                    </g>
                  </g>
                  </svg></span>
                {% else %}
                Upgrade Now
                <span class="right-arrow">{% render 'icon-arrow' %}</span>
                {% endif %}
              </a>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endif %}
{% endif %}
{% schema %}
{
"name": "Product Upsell",
"settings": []
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
